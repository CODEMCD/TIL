# 13강 문자열 연산
## 1. 문자열 결합

| 연산자/함수 | 연산 | 데이터베이스 |
|-------------|-------------|-------------------------|
| + | 문자열 결합 | SQL Server |
| || | 문자열 결합 | Oracle, DB2, PostgreSQL |
| CONCAT | 문자열 결합 | MySQL |

- 문자열을 결합하는 연산자는 데이터베이스 제품마다 방언을 가진다.
- 문자열 결합은 **2개의 열 데이터를 모아서 1개의 열로 처리하고 싶은 경우** 자주 사용한다.
  - 수치 데이터도 문제없이 문자열 결합을 사용할 수 있다.

## 2. SUBSTRING 함수
- `SUBSTRING` 함수는 문자열의 일부분을 계산해서 반환해주는 함수이다.
- 데이터베이스에 따라 함수명이 `SUBSTR`인 경우도 있다.
- 예를 들어, 날짜형 데이터에서 필요한 날짜 데이터를 따로 추출하고 싶을 때 주로 사용한다.

```
앞 4자리(연도) 추출
SUBSTRING('20140125001', 1, 4) -> '2014'

5째 자리부터 2자리(월) 추출
SUBSTRING('20140125001', 5, 2) -> '01'
```

## 3. TRIM 함수
- `TRIM` 함수는 문자열의 앞뒤로 여분의 스페이스가 있을 경우 이를 제거해주는 함수이다.
- 문자열 도중에 존재하는 스페이스는 제거되지 않는다.
- CHAR 형의 문자열형은 길이가 고정되며 남은 공간은 스페이스로 채워진다. 이를 제거하는데 TRIM 함수가 주로 사용된다.

```
TRIM으로 스페이스 제거하기
TRIM('ABC   ') -> 'ABC'
```

## 4. CHARACTER_LENGTH 함수
- `CHARACTER_LENGTH` 함수는 문자열의 길이를 계산하여 반환해준다.
- VARCHAR 형의 문자열은 가변 길이이므로 길이가 서로 다르다.
- 문자열의 길이를 바이트 단위로 계산해준다.
- `OCTET_LENGTH` 함수는 바이트 단위로 길이를 계산한다.
  - 문자열 데이터 역시 바이트 단위이지만 **인코딩 방식** 에 따라 문자 하나의 데이터가 몇 바이트의 저장공간을 사용하는지 달라진다.

### 문자세트(Character Set)
- 알파벳과 한글은 각각 반각문자, 전각문자로 다르다.
  - 반각문자는 전각문자 폭의 절반이며, 저장용량 또한 더 적게 차지한다.
- 알파벳, 숫자, 기호는 **ASCII 문자** 이다.
- 한글은 **EUC-KR, UTF-8** 등의 인코딩 방식을 주로 사용한다.
  - EUC-KR에서 ASCII 문자는 1바이트, 한글은 2바이트의 용량을 갖는다.
  - UTF-8은 ASCII 문자는 1바이트, 한글을 3바이트의 용량을 갖는다.
