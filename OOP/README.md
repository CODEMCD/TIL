# 객체지향 프로그래밍(OOP, Object-Oriented Programming)
> 객체지향으로 프로그래밍을 한다... 개발을 접하면서 가장 많이 들어본 말이다. 하지만 여전히 이에 대해 이해하고 있는지 의심스럽다. 물론 서비스 회사에 취업을 준비중인 상황에서 객체지향을 깊게 경험해보지는 못했다고 생각한다. 객체지향으로 구현할 때는 객체지향 생활체조, SOLID 원칙에 대해 고민하며 적용해본다. 하지만 여전히 여러운 것은 사실이다. 그래서 지금까지 배우고 적용해왔던 과정들을 정리해보려고 한다. 확실하게 알지 못하다보니 정리하는 것도 힘들지만 지속적으로 객체지향에 대해 내 생각을 정리하다보면 언젠가는 이해하는 날이 오지 않을까 생각이 든다...
> - 틀린 부분이나 궁금한 점이 있으시면 언제든지 말씀해주시면 감사하겠습니다!
> - 마지막 업데이트 날짜: 2020-04-02

지금 누군가 나에게 객체지향 프로그래밍이 무엇인지 묻는다면, 짧게 "책임에 따라 객체를 분리하고, 이렇게 해서 생긴 여러 객체 사이의 의존성을 관리하는 프로그래밍"
이라고 말할 것 같다. 책임, 객체, 의존성이라는 단어는 밑에서 차차 살펴보고 객체지향이 중요한 이유부터 알고 가야 할 것 같다.

객체지향 프로그래밍 이전에는 절차지향 프로그래밍(Procedural-Oriented Programming)으로 주로 구현했다.(프로시저지향 프로그래밍이라고도 한다.) 

> 프로시저(Procedure)란? 간단히 로직을 처리하는 코드입니다. 예전에는 로직을 처리하고 반환값이 없는 것을 프로시저라고 하고 반환값이 있는 것을 function이라고 불렀다고 합니다. 하지만 현재는 function과 procedure를 구분하지 않고 쓰는 것 같습니다.

사실 객체지향 언어는 사실 절차지향 언어 C와 비슷한 시기에 나왔다. 하지만 그 당시 하드웨어 성능이 받쳐주지 못했고, 절차지향보다 객체지향으로 생각하는 것이 힘들다는 이유로 많이 사용되지 않았다고 한다. 절차지향은 아래와 같은 방식으로 구조화되어있다.

![img1](./images/procedural-oriented-programming.png)

절차지향을 사옹했을 때를 떠올려보면, 학부시절 단순히 과제를 하거나 알고리즘 문제를 풀 때 사용했었다. 전역 변수나 데이터베이스에서 가져온 데이터를 한 곳에 모아두고 여러 함수(프로시저)에서 가져다쓰는 형식이었다. 데이터가 한 군데에 모여있다보니 로직을 수행하는 함수에서 필요한 것을 모두 가져다가 쓰고 단순히 생각한대로 `if-else`문을 쓰며 구현했었다. 이는 구현 속도는 빠르지만 나중에 유지보수하기가 힘들다. 물론 학교 과제나 알고리즘은 솔직히 확장할 일이 없어 유지보수가 힘든지 아닌지 경험해보지 못했다.

반면에 객체지향 프로그래밍의 구조는 아래와 같다.

![img2](./images/object-oriented-programming.png)

객체지향은 위 그림과 같이 데이터와 프로시저를 하나의 **객체**로 감싼다. 객체는 **추상화**를 통해 추출하고, 이러한 객체는 **캡슐화**가 되어 있다고 말한다. 나눠진 여러 객체 사이에는 **의존** 관계가 있다.(위 그림에서는 화살표가 의존 관계를 나타내는 것이다.) 의존하는 객체 사이에서는 **메시지**를 통해 의사소통한다.

객체지향을 공부하다보면 위와 같이 추상화, 캡슐화, 의존 등 여러 용어들이 나오고, 객체를 나누고 관계를 맺어주는 것은 매우 어려운 작업이다. 이렇게 어려운 방식으로 구현하는 이유는 한 가지라고 생각한다. **변경과 확장이 쉽다.** 

> 현재 서비스를 보면 요구사항이 많기도 하고, 매우 빠르게 변경된다고 합니다. 그래서 변경과 확장이 매우 중요하다고 생각합니다. 절차지향보다는 객체지향으로 프로그래밍하는 것이 유연성이 높아 객체를 설계하는 시간은 오래 걸리겠지만 유지보수하는데는 이점이 크다고 합니다.

## 객체지향 요소
### 객체(Object)
객체는 위에서 살펴봤듯이 데이터와 프로시저를 가지고 있는 하나의 덩어리이다. 객체는 구현 레벨로 갔을 때 클래스(class)와 인스턴스(instance)의 관점으로 볼 수 있다.

#### 클래스(Class)
클래스는 객체의 **설계도, 틀**이라고 하는데 객체지향 언어마다 객체를 구현하는 방법이라고 볼 수 있다. Java, C++, C# 등 대표적인 언어들은 클래스로 객체를 만든다. 

> Javascript는 객체의 틀을 만드는 방법이 `class`라는 예약어가 아닌 `function`을 사용하는 것으로 알고 있습니다. 따라서 `function`으로 객체의 틀을 선언했다면 이는 클래스라고 부를 수 있을 것으로 생각합니다.

#### 인스턴스(Instance)
인스턴스는 클래스를 생성한 모습이다. 정확히 말하면 클래스를 실제로 메모리에 할당한 단계로 볼 수 있다. 간단히 예를 들어보자.

```java
public class Animal {
    private String name;
    private int age;

    public Animal(String name, int age) {
        this.name = name;
        this.age = age;
    }
    // ...
}

public Class Application {
    public static void main(String[] args) {
        Animal dog = new Animal("Dog", 3);   // 1)
        Animal cat = new Animal("Cat", 4);   // 2)
    }
}
```

- `1)`: `dog` 변수는 이름이 "Dog"이고, 나이가 3살인 Animal 클래스의 인스턴스이다.
- `2)`: `cat` 변수는 이름이 "Cat"이고, 나이가 4살인 Animal 클래스의 인스턴스이다.

위 예제를 통해 클래스와 인스턴스의 차이점이 확실히 나타난다. 클래스는 실제 데이터가 없는 객체의 틀이고, 인스턴스는 실제 데이터를 가지고 있는 객체이다.

> 경험상 객체와 인스턴스는 혼용을 많이 하는 것 같습니다. 위 예제에서 dog 객체라고도 하고, dog 인스턴스라고도 부르기도 했었습니다. 객체는 설계에서부터 구현까지 계속해서 쓰는 용어고, 인스턴스는 구현단계에서만 쓰는 용어라고 볼 수도 있다고 생각합니다.

### 추상화
> 추상화(Abstraction): 주어진 문제나 시스템을 중요하고 관계 있는 부분만 분리해 내어 간결하고 이해하기 쉽게 만드는 작업. 이러한 과정은 원래의 문제에서 구체적인 사항은 되도록 생략하고 핵심이 되는 원리만을 따지기 때문에 원래의 문제와는 전혀 관계가 없어 보이는 수학적인 모델이 나오기도 한다. 이 기법은 복잡한 문제나 시스템을 이해하거나 설계하는 데 없어서는 안될 중요한 요소이다.
>
> 출처: 네이버 오픈사전

**객체의 추상화**는 위의 추상화 정의와 조금은 다르다고 생각한다. 객체의 추상화는 공통적인 부분을 추출
- 객체 모델링
- 공통부분을 추출하는 추상화


### 캡슐화
- 자신의 상태를 감싸는것, 내부와 외부를 분리
- 자신의 변화가 외부에 영향을 주지 않는 것이 중요!
- 캡슐화를 잘할수록 쉽게 구현을 변경할 수 있다.

### 다형성

### 상속


## 객체지향 생활체조


## SOLID 원칙

### 단일 책임 원칙(Single Responsibility Principle, SRP)

### 개방-폐쇄 원칙(Open-Closed Principle, OCP)

### 리스코프 치환 원칙(Liskov Substitution Principle, LSP)

### 인터페이스 분리 원칙(Interface Segregation Principle, ISP)

### 의존 역전 원칙(Dependency Inversion Principle, DIP)

## 객체지향으로 구현하기

